get2 =
{
     let x <- :get ()
  in let y <- :get ()
  in return (x, y)
}

handlerSimple =
{ \comp.
  handle (comp!) with
  | return x -> return x
  | :get p k -> (k! ())
}

handlerRunState =
{ \comp.
  handle (comp!) with
  | return x -> (\s. (return (x, s)))
  | :get p k -> (\s. k! s s)
  | :put p k -> (\s. k! () p)
}

main = {(handlerRunState! get2) ()}
